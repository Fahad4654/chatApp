{"ast":null,"code":"// src/components/Login.js\nimport React from'react';import{auth,GoogleAuthProvider,signInWithPopup,firestore}from'../firebase';import{doc,setDoc}from'firebase/firestore';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const signInWithGoogle=async()=>{const provider=new GoogleAuthProvider();try{const result=await signInWithPopup(auth,provider);const user=result.user;// Store user in Firestore\nconst userRef=doc(firestore,'users',user.uid);await setDoc(userRef,{uid:user.uid,displayName:user.displayName,email:user.email},{merge:true});// Merge so we don't overwrite any existing data\n}catch(error){console.error('Error during sign-in:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to the Chat App\"}),/*#__PURE__*/_jsx(\"button\",{onClick:signInWithGoogle,children:\"Sign in with Google\"})]});};export default Login;","map":{"version":3,"names":["React","auth","GoogleAuthProvider","signInWithPopup","firestore","doc","setDoc","jsx","_jsx","jsxs","_jsxs","Login","signInWithGoogle","provider","result","user","userRef","uid","displayName","email","merge","error","console","className","children","onClick"],"sources":["/home/fahad/Music/my_project/chat/react-firebase-chat/src/components/Login.js"],"sourcesContent":["// src/components/Login.js\nimport React from 'react';\nimport { auth, GoogleAuthProvider, signInWithPopup, firestore } from '../firebase';\nimport { doc, setDoc } from 'firebase/firestore';\n\nconst Login = () => {\n  const signInWithGoogle = async () => {\n    const provider = new GoogleAuthProvider();\n    try {\n      const result = await signInWithPopup(auth, provider);\n      const user = result.user;\n      \n      // Store user in Firestore\n      const userRef = doc(firestore, 'users', user.uid);\n      await setDoc(userRef, {\n        uid: user.uid,\n        displayName: user.displayName,\n        email: user.email,\n      }, { merge: true }); // Merge so we don't overwrite any existing data\n\n    } catch (error) {\n      console.error('Error during sign-in:', error);\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <h2>Welcome to the Chat App</h2>\n      <button onClick={signInWithGoogle}>Sign in with Google</button>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,kBAAkB,CAAEC,eAAe,CAAEC,SAAS,KAAQ,aAAa,CAClF,OAASC,GAAG,CAAEC,MAAM,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAAAC,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAX,kBAAkB,CAAC,CAAC,CACzC,GAAI,CACF,KAAM,CAAAY,MAAM,CAAG,KAAM,CAAAX,eAAe,CAACF,IAAI,CAAEY,QAAQ,CAAC,CACpD,KAAM,CAAAE,IAAI,CAAGD,MAAM,CAACC,IAAI,CAExB;AACA,KAAM,CAAAC,OAAO,CAAGX,GAAG,CAACD,SAAS,CAAE,OAAO,CAAEW,IAAI,CAACE,GAAG,CAAC,CACjD,KAAM,CAAAX,MAAM,CAACU,OAAO,CAAE,CACpBC,GAAG,CAAEF,IAAI,CAACE,GAAG,CACbC,WAAW,CAAEH,IAAI,CAACG,WAAW,CAC7BC,KAAK,CAAEJ,IAAI,CAACI,KACd,CAAC,CAAE,CAAEC,KAAK,CAAE,IAAK,CAAC,CAAC,CAAE;AAEvB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CAAC,CAED,mBACEX,KAAA,QAAKa,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BhB,IAAA,OAAAgB,QAAA,CAAI,yBAAuB,CAAI,CAAC,cAChChB,IAAA,WAAQiB,OAAO,CAAEb,gBAAiB,CAAAY,QAAA,CAAC,qBAAmB,CAAQ,CAAC,EAC5D,CAAC,CAEV,CAAC,CAED,cAAe,CAAAb,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}