{"ast":null,"code":"// src/components/SearchUser.js\nimport React,{useState}from'react';import{collection,query,where,getDocs}from'firebase/firestore';import{firestore}from'../firebase';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchUser=_ref=>{let{onSelectUser}=_ref;const[searchTerm,setSearchTerm]=useState('');const[searchResults,setSearchResults]=useState([]);const searchUsers=async e=>{e.preventDefault();if(searchTerm.trim()==='')return;const usersRef=collection(firestore,'users');const q=query(usersRef,where('displayName','>=',searchTerm),where('displayName','<=',searchTerm+'\\uf8ff'));try{const querySnapshot=await getDocs(q);const results=[];querySnapshot.forEach(doc=>{results.push(doc.data());});setSearchResults(results);}catch(error){console.error('Error searching users:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:searchUsers,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search users...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Search\"})]}),searchResults.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"search-results\",children:searchResults.map(user=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>onSelectUser(user),children:[user.displayName,\" (\",user.email,\")\"]},user.uid))})]});};export default SearchUser;","map":{"version":3,"names":["React","useState","collection","query","where","getDocs","firestore","jsx","_jsx","jsxs","_jsxs","SearchUser","_ref","onSelectUser","searchTerm","setSearchTerm","searchResults","setSearchResults","searchUsers","e","preventDefault","trim","usersRef","q","querySnapshot","results","forEach","doc","push","data","error","console","className","children","onSubmit","type","placeholder","value","onChange","target","length","map","user","onClick","displayName","email","uid"],"sources":["/home/fahad/Music/my_project/chat/react-firebase-chat/src/components/SearchUser.js"],"sourcesContent":["// src/components/SearchUser.js\nimport React, { useState } from 'react';\nimport { collection, query, where, getDocs } from 'firebase/firestore';\nimport { firestore } from '../firebase';\n\nconst SearchUser = ({ onSelectUser }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n\n  const searchUsers = async (e) => {\n    e.preventDefault();\n    if (searchTerm.trim() === '') return;\n\n    const usersRef = collection(firestore, 'users');\n    const q = query(usersRef, where('displayName', '>=', searchTerm), where('displayName', '<=', searchTerm + '\\uf8ff'));\n\n    try {\n      const querySnapshot = await getDocs(q);\n      const results = [];\n      querySnapshot.forEach((doc) => {\n        results.push(doc.data());\n      });\n      setSearchResults(results);\n    } catch (error) {\n      console.error('Error searching users:', error);\n    }\n  };\n\n  return (\n    <div className=\"search-container\">\n      <form onSubmit={searchUsers}>\n        <input\n          type=\"text\"\n          placeholder=\"Search users...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      {searchResults.length > 0 && (\n        <div className=\"search-results\">\n          {searchResults.map((user) => (\n            <div key={user.uid} onClick={() => onSelectUser(user)}>\n              {user.displayName} ({user.email})\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SearchUser;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,UAAU,CAAEC,KAAK,CAAEC,KAAK,CAAEC,OAAO,KAAQ,oBAAoB,CACtE,OAASC,SAAS,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAsB,IAArB,CAAEC,YAAa,CAAC,CAAAD,IAAA,CAClC,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACe,aAAa,CAAEC,gBAAgB,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAEtD,KAAM,CAAAiB,WAAW,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIN,UAAU,CAACO,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,OAE9B,KAAM,CAAAC,QAAQ,CAAGpB,UAAU,CAACI,SAAS,CAAE,OAAO,CAAC,CAC/C,KAAM,CAAAiB,CAAC,CAAGpB,KAAK,CAACmB,QAAQ,CAAElB,KAAK,CAAC,aAAa,CAAE,IAAI,CAAEU,UAAU,CAAC,CAAEV,KAAK,CAAC,aAAa,CAAE,IAAI,CAAEU,UAAU,CAAG,QAAQ,CAAC,CAAC,CAEpH,GAAI,CACF,KAAM,CAAAU,aAAa,CAAG,KAAM,CAAAnB,OAAO,CAACkB,CAAC,CAAC,CACtC,KAAM,CAAAE,OAAO,CAAG,EAAE,CAClBD,aAAa,CAACE,OAAO,CAAEC,GAAG,EAAK,CAC7BF,OAAO,CAACG,IAAI,CAACD,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC,CAC1B,CAAC,CAAC,CACFZ,gBAAgB,CAACQ,OAAO,CAAC,CAC3B,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CACF,CAAC,CAED,mBACEpB,KAAA,QAAKsB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BvB,KAAA,SAAMwB,QAAQ,CAAEhB,WAAY,CAAAe,QAAA,eAC1BzB,IAAA,UACE2B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,iBAAiB,CAC7BC,KAAK,CAAEvB,UAAW,CAClBwB,QAAQ,CAAGnB,CAAC,EAAKJ,aAAa,CAACI,CAAC,CAACoB,MAAM,CAACF,KAAK,CAAE,CAChD,CAAC,cACF7B,IAAA,WAAQ2B,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,QAAM,CAAQ,CAAC,EACjC,CAAC,CACNjB,aAAa,CAACwB,MAAM,CAAG,CAAC,eACvBhC,IAAA,QAAKwB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAC5BjB,aAAa,CAACyB,GAAG,CAAEC,IAAI,eACtBhC,KAAA,QAAoBiC,OAAO,CAAEA,CAAA,GAAM9B,YAAY,CAAC6B,IAAI,CAAE,CAAAT,QAAA,EACnDS,IAAI,CAACE,WAAW,CAAC,IAAE,CAACF,IAAI,CAACG,KAAK,CAAC,GAClC,GAFUH,IAAI,CAACI,GAEV,CACN,CAAC,CACC,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}